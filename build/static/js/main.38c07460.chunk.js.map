{"version":3,"sources":["LaunchFeed.js","useFetch.js","UpcomingLaunch.js","Home.js","CrewMember.js","CrewDetails.js","UserContext.js","CommentSection.js","LaunchDetails.js","Login.js","useAuth.js","Navbar.js","ProtectedRoute.js","Signup.js","App.js","index.js"],"names":["LaunchFeed","launches","className","slice","reverse","map","launch","key","to","id","name","date_utc","substring","details","useFetch","url","useState","data","setData","isPending","setIsPending","error","setError","useEffect","abortCont","AbortController","fetch","signal","then","res","ok","Error","json","catch","err","console","log","message","abort","UpcomingLaunch","countdown","setCountdown","interval","setInterval","now","Date","getTime","distance","days","Math","floor","hours","minutes","seconds","clearInterval","Home","filteredLaunches","filter","CrewMember","crewMember","crew","member","src","image","alt","role","CrewDetails","crewMembers","UserContext","createContext","CommentSection","post_id","comments","content","setContent","user","useContext","getDateTime","comment","date","createdAt","fullDate","getMinutes","length","time","getHours","handleClick","a","payload","method","credentials","body","JSON","stringify","headers","push","rows","placeholder","value","onChange","e","target","onClick","LaunchDetails","useParams","wider","setWider","links","flickr","original","callback","img","Image","onload","this","width","height","getMeta","Login","email","setEmail","password","setPassword","errors","setErrors","from","useLocation","state","pathname","setUser","handleSubmit","preventDefault","localStorage","setItem","removeItem","onSubmit","type","required","useAuth","auth","setAuth","fetchAuth","Navbar","history","useHistory","logout","ProtectedRoute","children","rest","location","render","Signup","username","setUsername","App","getItem","providerValue","useMemo","Provider","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"0MAmBeA,EAjBI,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAElB,OACI,qBAAKC,UAAU,cAAf,SACKD,EAASE,MAAM,GAAGC,UAAUC,KAAI,SAACC,EAAQC,GAAT,OAC7B,qBAAKL,UAAU,iBAAf,SACI,eAAC,IAAD,CAAMM,GAAE,kBAAaF,EAAOG,IAA5B,UACI,6BAAKH,EAAOI,OACZ,6BAAKJ,EAAOK,SAASC,UAAU,EAAE,MACjC,4BAAIN,EAAOO,QAAQD,UAAU,EAAE,KAAO,YAJTL,EADR,KAW5C,ECoBcO,EAnCE,SAACC,GACd,MAAwBC,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAkCF,oBAAS,GAA3C,mBAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA0BJ,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KA6BA,OA3BAC,qBAAU,WACN,IAAMC,EAAY,IAAIC,gBAuBtB,OAtBAC,MAAMX,EAAK,CAAEY,OAAQH,EAAUG,SAC1BC,MAAK,SAAAC,GACF,IAAKA,EAAIC,GACL,MAAMC,MAAM,4BAGhB,OAAOF,EAAIG,MACd,IACAJ,MAAK,SAACX,GAEHC,EAAQD,GACRG,GAAa,GACbE,EAAS,KACZ,IACAW,OAAM,SAAAC,GACc,eAAbA,EAAIxB,KACJyB,QAAQC,IAAI,kBAEZd,EAASY,EAAIG,SACbjB,GAAa,GAEpB,IACE,kBAAMI,EAAUc,OAAhB,CACV,GAAE,CAACvB,IAEG,CAAEE,OAAME,YAAWE,QAC7B,ECUckB,EAzCQ,WACnB,MAA2CzB,EAAS,mDAAtCR,EAAd,EAAQW,KAAcE,EAAtB,EAAsBA,UAAWE,EAAjC,EAAiCA,MAEjC,EAAkCL,mBAAS,IAA3C,mBAAOwB,EAAP,KAAkBC,EAAlB,KAyBA,OAvBAlB,qBAAU,WACN,IAAMmB,EAAWC,aAAY,WACzB,GAAIrC,EAAQ,CACR,IAAIsC,GAAM,IAAIC,MAAOC,UAEjBC,EADO,IAAIF,KAAKvC,EAAO,GAAGK,UACVmC,UAAYF,EAC5BI,EAAOC,KAAKC,MAAMH,EAAQ,OAC1BI,EAAQF,KAAKC,MAAOH,EAAQ,MAAT,MACnBK,EAAUH,KAAKC,MAAOH,EAAQ,KAAT,KACrBM,EAAUJ,KAAKC,MAAOH,EAAQ,IAAkB,KAChDA,EAAW,EACXN,EAAa,GAAD,OAAIO,EAAJ,cAAcG,EAAd,cAAyBC,EAAzB,cAAsCC,KAElDC,cAAcZ,GACdD,EAAa,oBAEpB,CACJ,GAAE,KAEH,OAAO,kBAAMa,cAAcZ,EAApB,CACV,GAAE,CAACpC,IAIA,sBAAKJ,UAAU,WAAf,UACKmB,GAAS,8BAAMA,IACfF,GAAa,6CACbb,GAAU,gCACP,mBAAGJ,UAAU,YAAb,SAA0BsC,IAC1B,2DACA,uCAAUlC,EAAO,GAAGI,KAApB,mBAIf,ECtBc6C,EAjBF,WACT,IACIC,EADJ,EAA6C1C,EAAS,0CAAxCb,EAAd,EAAQgB,KAAgBE,EAAxB,EAAwBA,UAAWE,EAAnC,EAAmCA,MAMnC,OAJIpB,IACAuD,EAAmBvD,EAASwD,QAAO,SAACnD,GAAD,OAAYA,EAAOO,OAAnB,KAInC,sBAAKX,UAAU,OAAf,UACI,cAAC,EAAD,IACCmB,GAAS,8BAAMA,IACfF,GAAa,6CACblB,GAAY,cAAC,EAAD,CAAYA,SAAUuD,MAG9C,ECEcE,EAnBI,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAClB,EAA2C7C,EAAS,sCAAwC6C,EAAWC,MAAzFC,EAAd,EAAQ5C,KAAcE,EAAtB,EAAsBA,UAAWE,EAAjC,EAAiCA,MAEjC,OACI,sBAAKnB,UAAU,cAAf,UACKiB,GAAa,6CACbE,GAAS,8BAAMA,IACfwC,GACG,gCACI,qBAAK3D,UAAU,yBAAf,SACI,qBAAKA,UAAU,aAAa4D,IAAKD,EAAOE,MAAOC,IAAKH,EAAOnD,SAE/D,4BAAImD,EAAOnD,OACX,4BAAIiD,EAAWM,YAIlC,ECJcC,EAbK,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAEnB,OACI,qBAAKjE,UAAU,eAAf,SACKiE,EAAY9D,KAAI,SAACwD,EAAQtD,GAAT,OACb,qBAAKL,UAAU,cAAf,SACI,cAAC,EAAD,CAAYyD,WAAYE,KADMtD,EADrB,KAO5B,E,uBCXY6D,EAAcC,wBAAc,MC0E1BC,EAxEQ,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAEtB,EAA6CzD,EAAS,iCAAmCyD,GAA3EC,EAAd,EAAQvD,KAAgBE,EAAxB,EAAwBA,UAAWE,EAAnC,EAAmCA,MACnC,EAA8BL,mBAAS,IAAvC,mBAAOyD,EAAP,KAAgBC,EAAhB,KACQC,EAASC,qBAAWR,GAApBO,KAEFE,EAAc,SAACC,GACjB,IAAMC,EAAOD,EAAQE,UAAUpE,UAAU,EAAG,IACtCqE,EAAW,IAAIpC,KAAKiC,EAAQE,WAC9B5B,EAAU,GAAK6B,EAASC,aACL,IAAnB9B,EAAQ+B,SACR/B,EAAU,IAAMA,GAEpB,IAAMgC,EAAI,UAAMH,EAASI,WAAf,YAA6BjC,GAEvC,MADc,UAAM2B,EAAN,YAAcK,EAE/B,EAEKE,EAAW,uCAAG,gCAAAC,EAAA,6DACVC,EAAU,CAAEf,UAASE,OAAMJ,WADjB,kBAGM7C,MAAM,gCAAiC,CACrD+D,OAAQ,OACRC,YAAa,UACbC,KAAMC,KAAKC,UAAUL,GACrBM,QAAS,CAAE,eAAgB,sBAPnB,cAGNjE,EAHM,gBASOA,EAAIG,OATX,QASNf,EATM,QAUH6D,SACLN,EAASuB,KAAK9E,EAAK6D,SAXX,kDAcZ3C,QAAQC,IAAR,MAdY,QAgBhBsC,EAAW,IAhBK,0DAAH,qDAmBjB,OACI,sBAAKxE,UAAU,kBAAf,UACKyE,GACG,sBAAKzE,UAAU,uBAAf,UACI,4CACA,sBAAKA,UAAU,aAAf,UACI,0BACI8F,KAAK,IACLC,YAAY,kBACZC,MAAOzB,EACP0B,SAAU,SAACC,GAAD,OAAO1B,EAAW0B,EAAEC,OAAOH,MAA3B,IAEd,qBAAKhG,UAAU,oBAAf,SACI,wBAAQA,UAAU,MAAMoG,QAAShB,EAAjC,6BAKfnE,GAAa,6CACbE,GAAS,8BAAMA,IACfmD,GACG,qBAAKtE,UAAU,WAAf,SACKsE,EAASnE,KAAI,SAACyE,EAASvE,GAAV,OACV,sBAAKL,UAAU,UAAf,UACI,mBAAGA,UAAU,eAAb,SAA6B4E,EAAQH,OACrC,mBAAGzE,UAAU,oBAAb,SAAkC2E,EAAYC,KAC9C,mBAAG5E,UAAU,kBAAb,SAAgC4E,EAAQL,YAHdlE,EADpB,QAWjC,ECrBcgG,EA/CO,WAClB,IAAQ9F,EAAO+F,cAAP/F,GACR,EAA2CK,EAAS,0CAA4CL,GAAlFH,EAAd,EAAQW,KAAcE,EAAtB,EAAsBA,UAAWE,EAAjC,EAAiCA,MACjC,EAA0BL,oBAAS,GAAnC,mBAAOyF,EAAP,KAAcC,EAAd,KAgBA,OAPAnF,qBAAU,WACFjB,GAAkD,IAAxCA,EAAOqG,MAAMC,OAAOC,SAAS1B,QAP/C,SAAiBpE,EAAK+F,GAClB,IAAIC,EAAM,IAAIC,MACdD,EAAIjD,IAAM/C,EACVgG,EAAIE,OAAS,WAAcH,EAASI,KAAKC,MAAOD,KAAKE,OAAU,CAClE,CAIOC,CAAQ/G,EAAOqG,MAAMC,OAAOC,SAAS,IAAI,SAACM,EAAOC,GAAiBD,EAAQC,EAAS,GAAGV,GAAS,EAAO,GAE7G,GAAE,CAACpG,IAIA,sBAAKJ,UAAU,iBAAf,UACKiB,GAAa,6CACbE,GAAS,8BAAMA,IACff,GACG,gCACI,oCACI,6BAAKA,EAAOI,OACZ,6BAAKJ,EAAOK,SAASC,UAAU,EAAG,MAClC,4BAAIN,EAAOO,UAC8B,IAAxCP,EAAOqG,MAAMC,OAAOC,SAAS1B,QAAgBsB,GAC1C,qBAAKvG,UAAU,iBAAiB4D,IAAKxD,EAAOqG,MAAMC,OAAOC,SAAS,GAAI7C,IAAI,WACrC,IAAxC1D,EAAOqG,MAAMC,OAAOC,SAAS1B,SAAiBsB,GAC3C,qBAAKvG,UAAU,iBAAiB4D,IAAKxD,EAAOqG,MAAMC,OAAOC,SAAS,GAAI7C,IAAI,WACtD,IAAvB1D,EAAOsD,KAAKuB,QACT,qCACI,sCACA,cAAC,EAAD,CAAahB,YAAa7D,EAAOsD,aAI7C,cAAC,EAAD,CAAgBW,QAAS9D,SAK5C,ECoBc6G,EAnED,WAEV,MAA0BtG,mBAAS,IAAnC,mBAAOuG,EAAP,KAAcC,EAAd,KACA,EAAgCxG,mBAAS,IAAzC,mBAAOyG,EAAP,KAAiBC,EAAjB,KACA,EAA4B1G,mBAAS,CAAC,GAAtC,mBAAO2G,EAAP,KAAeC,EAAf,KAEQC,GADUC,cAAVC,OACkB,CAAEF,KAAM,CAAEG,SAAU,OAAtCH,KACR,EAA0BjD,qBAAWR,GAA7BO,EAAR,EAAQA,KAAMsD,EAAd,EAAcA,QAERC,EAAY,uCAAG,WAAO9B,GAAP,mBAAAb,EAAA,6DACjBa,EAAE+B,iBACFP,EAAU,CAAC,GACLpC,EAAU,CAAE+B,QAAOE,YAHR,kBAKK/F,MAAM,8BAA+B,CACnD+D,OAAQ,OACRC,YAAa,UACbC,KAAMC,KAAKC,UAAUL,GACrBM,QAAS,CAAE,eAAgB,sBATlB,cAKPjE,EALO,gBAWMA,EAAIG,OAXV,QAWPf,EAXO,QAYJ0D,OACLyD,aAAaC,QAAQ,OAAQpH,EAAK0D,MAClCsD,EAAQhH,EAAK0D,OAEb1D,EAAK0G,SACLC,EAAU3G,EAAK0G,QACfS,aAAaE,WAAW,QACxBL,EAAQ,OAnBC,kDAsBb9F,QAAQC,IAAR,MACAgG,aAAaE,WAAW,QACxBL,EAAQ,MAxBK,0DAAH,sDA4BlB,OAAItD,EACO,cAAC,IAAD,CAAUnE,GAAIqH,IAIrB,sBAAK3H,UAAU,QAAf,UACI,uCACA,uBAAMqI,SAAUL,EAAhB,UACI,0CACA,uBACIM,KAAK,OACLC,UAAQ,EACRvC,MAAOqB,EACPpB,SAAU,SAACC,GAAD,OAAOoB,EAASpB,EAAEC,OAAOH,MAAzB,IAEbyB,EAAOJ,OAAS,8BAAMI,EAAOJ,QAC9B,6CACA,uBACIiB,KAAK,WACLC,UAAQ,EACRvC,MAAOuB,EACPtB,SAAU,SAACC,GAAD,OAAOsB,EAAYtB,EAAEC,OAAOH,MAA5B,IAEbyB,EAAOF,UAAY,8BAAME,EAAOF,WACjC,gDAIf,EChBciB,EAlDC,WAEZ,MAA0B9D,qBAAWR,GAA7BO,EAAR,EAAQA,KAAMsD,EAAd,EAAcA,QACd,EAAwBjH,mBAAS,WAAjC,mBAAO2H,EAAP,KAAaC,EAAb,KA4CA,OA1CArH,qBAAU,WACN,IAAMC,EAAY,IAAIC,gBADV,4CAEZ,WAAyBD,GAAzB,iBAAA+D,EAAA,0DACQZ,EADR,0CAG8BjD,MAAM,6BAA8B,CAClD+D,OAAQ,OACRC,YAAa,UACb/D,OAAQH,EAAUG,SANlC,cAGkBE,EAHlB,gBAQ+BA,EAAIG,OARnC,QAQkBf,EARlB,QASqB0D,OACLsD,EAAQhH,EAAK0D,MACbyD,aAAaC,QAAQ,OAAQpH,EAAK0D,MAClCiE,EAAQ,kBAER3H,EAAKiB,MACL+F,EAAQ,MACRG,aAAaE,WAAW,QACxBM,EAAQ,oBAjBxB,kDAoB6B,eAAb,KAAIlI,MACJyB,QAAQC,IAAI,iBAEhBgG,aAAaE,WAAW,QACxBM,EAAQ,mBACRX,EAAQ,MAzBpB,gCA4BQW,EAAQ,mBACRX,EAAQ,MACRG,aAAaE,WAAW,QA9BhC,0DAFY,wBAsCZ,OAtCY,oCAoCZO,CAAUrH,GAEH,kBAAMA,EAAUc,OAAhB,CAEV,GAAE,CAACqC,EAAMsD,IAEH,CAAEU,OACZ,ECTcG,EArCA,WAEXJ,IACA,MAA0B9D,qBAAWR,GAA7BO,EAAR,EAAQA,KAAMsD,EAAd,EAAcA,QACRc,EAAUC,cAEVC,EAAM,uCAAG,sBAAA1D,EAAA,+EAED7D,MAAM,+BAAgC,CACxC+D,OAAQ,MACRC,YAAa,YAJV,OAMP0C,aAAaE,WAAW,QACxBL,EAAQ,MACRc,EAAQhD,KAAK,KARN,gDAUP5D,QAAQC,IAAR,MAVO,yDAAH,qDAcZ,OACI,sBAAKlC,UAAU,SAAf,UACI,0CACA,sBAAKA,UAAU,QAAf,UACI,cAAC,IAAD,CAAMM,GAAG,IAAIN,UAAU,WAAvB,mBACEyE,GAAQ,sBAAKzE,UAAU,cAAf,UACN,cAAC,IAAD,CAAMM,GAAG,UAAT,SAAmB,wBAAQN,UAAU,MAAlB,sBACnB,cAAC,IAAD,CAAMM,GAAG,SAAT,SAAkB,wBAAQN,UAAU,MAAlB,wBAErByE,GAAQ,qBAAKzE,UAAU,cAAf,SACL,wBAAQoG,QAAS2C,EAAQ/I,UAAU,iBAAnC,2BAKnB,E,+BCrBcgJ,EAhBQ,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,SAAaC,EAAW,iBACtCT,EAASD,IAATC,KACFU,EAAWvB,cAEjB,OACI,cAAC,IAAD,2BAAWsB,GAAX,IAAiBE,OAAQ,WACrB,MAAa,kBAATX,EACOQ,EAEE,oBAATR,EACO,cAAC,IAAD,CAAUnI,GAAI,CAAEwH,SAAU,SAAUD,MAAO,CAAEF,KAAMwB,WAD9D,CAGH,IAER,ECuDcE,EApEA,WAEX,MAAgCvI,mBAAS,IAAzC,mBAAOwI,EAAP,KAAiBC,EAAjB,KACA,EAA0BzI,mBAAS,IAAnC,mBAAOuG,EAAP,KAAcC,EAAd,KACA,EAAgCxG,mBAAS,IAAzC,mBAAOyG,EAAP,KAAiBC,EAAjB,KACA,EAA4B1G,mBAAS,CAAC,GAAtC,mBAAO2G,EAAP,KAAeC,EAAf,KACMmB,EAAUC,cACRf,EAAYrD,qBAAWR,GAAvB6D,QAEFC,EAAY,uCAAG,WAAO9B,GAAP,mBAAAb,EAAA,6DACjBa,EAAE+B,iBACFP,EAAU,CAAC,GACLpC,EAAU,CAAEgE,WAAUjC,QAAOE,YAHlB,kBAKK/F,MAAM,+BAAgC,CACpD+D,OAAQ,OACRC,YAAa,UACbC,KAAMC,KAAKC,UAAUL,GACrBM,QAAS,CAAE,eAAgB,sBATlB,cAKPjE,EALO,gBAWMA,EAAIG,OAXV,QAWPf,EAXO,QAYJ0D,OACLyD,aAAaC,QAAQ,OAAQpH,EAAK0D,MAClCsD,EAAQhH,EAAK0D,MACboE,EAAQhD,KAAK,MAEb9E,EAAK0G,QACLC,EAAU3G,EAAK0G,QAlBN,kDAqBbxF,QAAQC,IAAR,MArBa,0DAAH,sDAyBlB,OACI,sBAAKlC,UAAU,QAAf,UACI,wCACA,uBAAMqI,SAAUL,EAAhB,UACI,6CACA,uBACIM,KAAK,OACLC,UAAQ,EACRvC,MAAOsD,EACPrD,SAAU,SAACC,GAAD,OAAOqD,EAAYrD,EAAEC,OAAOH,MAA5B,IAEbyB,EAAO6B,UAAY,8BAAM7B,EAAO6B,WACjC,0CACA,uBACIhB,KAAK,OACLC,UAAQ,EACRvC,MAAOqB,EACPpB,SAAU,SAACC,GAAD,OAAOoB,EAASpB,EAAEC,OAAOH,MAAzB,IAEbyB,EAAOJ,OAAS,8BAAMI,EAAOJ,QAC9B,6CACA,uBACIiB,KAAK,WACLC,UAAQ,EACRvC,MAAOuB,EACPtB,SAAU,SAACC,GAAD,OAAOsB,EAAYtB,EAAEC,OAAOH,MAA5B,IAEbyB,EAAOF,UAAY,8BAAME,EAAOF,WACjC,iDAIf,ECxBciC,MApCf,WACE,MAAwB1I,mBAASoH,aAAauB,QAAQ,SAAtD,mBAAOhF,EAAP,KAAasD,EAAb,KAEM2B,EAAgBC,mBAAQ,iBAAO,CAAElF,OAAMsD,UAAf,GAA2B,CAACtD,EAAMsD,IAEhE,OACE,cAAC,IAAD,UACE,qBAAK/H,UAAU,MAAf,SACE,eAACkE,EAAY0F,SAAb,CAAsB5D,MAAO0D,EAA7B,UACE,cAAC,EAAD,IACA,qBAAK1J,UAAU,UAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO6J,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,cAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,UAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,EAAD,CAAgBA,KAAK,UAArB,SACE,oDASf,ECvCDC,IAASX,OACP,cAAC,IAAMY,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,Q","file":"static/js/main.38c07460.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nconst LaunchFeed = ({ launches }) => {\r\n\r\n    return (\r\n        <div className=\"launch-feed\">\r\n            {launches.slice(0).reverse().map((launch, key) => (\r\n                <div className=\"launch-preview\" key={key}>\r\n                    <Link to={`/launch/${launch.id}`}>\r\n                        <h2>{launch.name}</h2>\r\n                        <h4>{launch.date_utc.substring(0,10)}</h4>\r\n                        <p>{launch.details.substring(0,200) + \"...\"}</p>\r\n                    </Link>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LaunchFeed;","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url) => {\r\n    const [data, setData] = useState(null);\r\n    const [isPending, setIsPending] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const abortCont = new AbortController();\r\n        fetch(url, { signal: abortCont.signal })\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    throw Error(\"could not fetch the data\");\r\n                }\r\n\r\n                return res.json();\r\n            })\r\n            .then((data) => {\r\n\r\n                setData(data);\r\n                setIsPending(false);\r\n                setError(null);\r\n            })\r\n            .catch(err => {\r\n                if (err.name === \"AbortError\") {\r\n                    console.log(\"fetch aborted\");\r\n                } else {\r\n                    setError(err.message);\r\n                    setIsPending(false);\r\n                }\r\n            })\r\n        return () => abortCont.abort();\r\n    }, [url]);\r\n\r\n    return { data, isPending, error }\r\n}\r\n\r\nexport default useFetch;","import useFetch from \"./useFetch\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n\r\nconst UpcomingLaunch = () => {\r\n    const { data: launch, isPending, error } = useFetch(\"https://api.spacexdata.com/v5/launches/upcoming\");\r\n\r\n    const [countdown, setCountdown] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            if (launch) {\r\n                let now = new Date().getTime()\r\n                let time = new Date(launch[0].date_utc);\r\n                let distance = time.getTime() - now;\r\n                let days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n                let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n                let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n                let seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n                if (distance > 0) {\r\n                    setCountdown(`${days} : ${hours} : ${minutes} : ${seconds}`);\r\n                } else {\r\n                    clearInterval(interval);\r\n                    setCountdown(\"Already launched\");\r\n                }\r\n            }\r\n        }, 1000)\r\n\r\n        return () => clearInterval(interval);\r\n    }, [launch])\r\n\r\n\r\n    return (\r\n        <div className=\"upcoming\">\r\n            {error && <div>{error}</div>}\r\n            {isPending && <div>Loading...</div>}\r\n            {launch && <div>\r\n                <p className=\"countdown\">{countdown}</p>\r\n                <p>Days Hours Minutes Seconds</p>\r\n                <p>Until {launch[0].name} mission</p>\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpcomingLaunch;","import LaunchFeed from \"./LaunchFeed\";\r\nimport useFetch from \"./useFetch\";\r\nimport UpcomingLaunch from './UpcomingLaunch';\r\n\r\nconst Home = () => {\r\n    const { data: launches, isPending, error } = useFetch(\"https://api.spacexdata.com/v5/launches\");\r\n    let filteredLaunches;\r\n    if (launches) {\r\n        filteredLaunches = launches.filter((launch) => launch.details);\r\n    }\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <UpcomingLaunch />\r\n            {error && <div>{error}</div>}\r\n            {isPending && <div>Loading...</div>}\r\n            {launches && <LaunchFeed launches={filteredLaunches} />}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import useFetch from \"./useFetch\";\r\n\r\nconst CrewMember = ({ crewMember }) => {\r\n    const { data: member, isPending, error } = useFetch(\"https://api.spacexdata.com/v4/crew/\" + crewMember.crew);\r\n\r\n    return (\r\n        <div className=\"crew-member\">\r\n            {isPending && <div>Loading...</div>}\r\n            {error && <div>{error}</div>}\r\n            {member &&\r\n                <div>\r\n                    <div className=\"member-image-container\">\r\n                        <img className=\"crew-image\" src={member.image} alt={member.name}></img>\r\n                    </div>\r\n                    <p>{member.name}</p>\r\n                    <p>{crewMember.role}</p>\r\n                </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CrewMember;","import CrewMember from \"./CrewMember\";\r\n\r\nconst CrewDetails = ({ crewMembers }) => {\r\n\r\n    return (\r\n        <div className=\"crew-details\">\r\n            {crewMembers.map((member, key) => (\r\n                <div className=\"crew-detail\" key={key}>\r\n                    <CrewMember crewMember={member} />\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CrewDetails;","import { createContext } from \"react\";\r\n\r\nexport const UserContext = createContext(null);","import { useContext, useState } from \"react\";\r\nimport useFetch from \"./useFetch\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst CommentSection = ({ post_id }) => {\r\n\r\n    const { data: comments, isPending, error } = useFetch(\"http://localhost:8000/comment/\" + post_id);\r\n    const [content, setContent] = useState(\"\");\r\n    const { user } = useContext(UserContext);\r\n\r\n    const getDateTime = (comment) => {\r\n        const date = comment.createdAt.substring(0, 10);\r\n        const fullDate = new Date(comment.createdAt);\r\n        let minutes = \"\" + fullDate.getMinutes();\r\n        if (minutes.length === 1) {\r\n            minutes = \"0\" + minutes;\r\n        }\r\n        const time = `${fullDate.getHours()}:${minutes}`;\r\n        const dateTime = `${date} ${time}`;\r\n        return dateTime;\r\n    }\r\n\r\n    const handleClick = async () => {\r\n        const payload = { content, user, post_id }\r\n        try {\r\n            const res = await fetch(\"http://localhost:8000/comment\", {\r\n                method: \"POST\",\r\n                credentials: 'include',\r\n                body: JSON.stringify(payload),\r\n                headers: { \"Content-Type\": \"application/json\" }\r\n            });\r\n            const data = await res.json();\r\n            if (data.comment) {\r\n                comments.push(data.comment);\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n        setContent(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"comment-section\">\r\n            {user && (\r\n                <div className=\"text-field-container\">\r\n                    <h2>Discussion</h2>\r\n                    <div className=\"text-field\">\r\n                        <textarea\r\n                            rows=\"5\"\r\n                            placeholder=\"Write a comment\"\r\n                            value={content}\r\n                            onChange={(e) => setContent(e.target.value)}\r\n                        />\r\n                        <div className=\"text-field-footer\">\r\n                            <button className=\"btn\" onClick={handleClick}>Comment</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {isPending && <div>Loading...</div>}\r\n            {error && <div>{error}</div>}\r\n            {comments && (\r\n                <div className=\"comments\">\r\n                    {comments.map((comment, key) => (\r\n                        <div className=\"comment\" key={key}>\r\n                            <p className=\"comment-user\">{comment.user}</p>\r\n                            <p className=\"comment-date-time\">{getDateTime(comment)}</p>\r\n                            <p className=\"comment-content\">{comment.content}</p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentSection;","import { useParams } from \"react-router\";\r\nimport useFetch from \"./useFetch\";\r\nimport { useState, useEffect } from \"react\";\r\nimport CrewDetails from \"./CrewDetails\";\r\nimport CommentSection from \"./CommentSection\";\r\n\r\nconst LaunchDetails = () => {\r\n    const { id } = useParams();\r\n    const { data: launch, isPending, error } = useFetch(\"https://api.spacexdata.com/v5/launches/\" + id);\r\n    const [wider, setWider] = useState(false);\r\n\r\n    // Ziskame širku a vyšku obrazku z url a v callback možeme s nimi niečo robiť\r\n    function getMeta(url, callback) {\r\n        let img = new Image();\r\n        img.src = url;\r\n        img.onload = function () { callback(this.width, this.height); }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (launch && launch.links.flickr.original.length !== 0) {\r\n            getMeta(launch.links.flickr.original[0], (width, height) => { if (width / height > 1) setWider(true) })\r\n        }\r\n    }, [launch])\r\n\r\n\r\n    return (\r\n        <div className=\"launch-details\">\r\n            {isPending && <div>Loading...</div>}\r\n            {error && <div>{error}</div>}\r\n            {launch && (\r\n                <div>\r\n                    <article>\r\n                        <h1>{launch.name}</h1>\r\n                        <h4>{launch.date_utc.substring(0, 10)}</h4>\r\n                        <p>{launch.details}</p>\r\n                        {launch.links.flickr.original.length !== 0 && wider &&\r\n                            <img className=\"rocket-image-h\" src={launch.links.flickr.original[0]} alt=\"launch\" ></img>}\r\n                        {launch.links.flickr.original.length !== 0 && !wider &&\r\n                            <img className=\"rocket-image-w\" src={launch.links.flickr.original[0]} alt=\"launch\" ></img>}\r\n                        {launch.crew.length !== 0 &&\r\n                            <>\r\n                                <h2>Crew</h2>\r\n                                <CrewDetails crewMembers={launch.crew} />\r\n                            </>\r\n                        }\r\n                    </article>\r\n                    <CommentSection post_id={id} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LaunchDetails;","import { useContext, useState } from \"react\";\r\nimport { Redirect, useLocation } from 'react-router-dom'\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [errors, setErrors] = useState({});\r\n    const { state } = useLocation();\r\n    const { from } = state || { from: { pathname: \"/\" } };\r\n    const { user, setUser } = useContext(UserContext);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setErrors({});\r\n        const payload = { email, password };\r\n        try {\r\n            const res = await fetch(\"http://localhost:8000/login\", {\r\n                method: \"POST\",\r\n                credentials: 'include',\r\n                body: JSON.stringify(payload),\r\n                headers: { \"Content-Type\": \"application/json\" }\r\n            });\r\n            const data = await res.json();\r\n            if (data.user) {\r\n                localStorage.setItem(\"user\", data.user);\r\n                setUser(data.user);\r\n            }\r\n            if (data.errors) {\r\n                setErrors(data.errors);\r\n                localStorage.removeItem(\"user\");\r\n                setUser(null);\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n            localStorage.removeItem(\"user\");\r\n            setUser(null);\r\n        }\r\n    }\r\n\r\n    if (user) {\r\n        return <Redirect to={from} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h2>Login</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>Email</label>\r\n                <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                {errors.email && <div>{errors.email}</div>}\r\n                <label>Password</label>\r\n                <input\r\n                    type=\"password\"\r\n                    required\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n                {errors.password && <div>{errors.password}</div>}\r\n                <button>Login</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import { useContext, useEffect, useState } from \"react\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst useAuth = () => {\r\n\r\n    const { user, setUser } = useContext(UserContext);\r\n    const [auth, setAuth] = useState(\"pending\");\r\n\r\n    useEffect(() => {\r\n        const abortCont = new AbortController();\r\n        async function fetchAuth(abortCont) {\r\n            if (user) {\r\n                try {\r\n                    const res = await fetch(\"http://localhost:8000/auth\", {\r\n                        method: \"POST\",\r\n                        credentials: 'include',\r\n                        signal: abortCont.signal\r\n                    });\r\n                    const data = await res.json();\r\n                    if (data.user) {\r\n                        setUser(data.user);\r\n                        localStorage.setItem(\"user\", data.user);\r\n                        setAuth(\"authenticated\");\r\n                    }\r\n                    if (data.err) {\r\n                        setUser(null);\r\n                        localStorage.removeItem(\"user\");\r\n                        setAuth(\"unauthenticated\");\r\n                    }\r\n                } catch (err) {\r\n                    if (err.name === \"AbortError\") {\r\n                        console.log(\"fetch aborted\");\r\n                    }\r\n                    localStorage.removeItem(\"user\");\r\n                    setAuth(\"unauthenticated\");\r\n                    setUser(null);\r\n                }\r\n            } else {\r\n                setAuth(\"unauthenticated\");\r\n                setUser(null);\r\n                localStorage.removeItem(\"user\");\r\n            }\r\n        }\r\n\r\n        fetchAuth(abortCont);\r\n\r\n        return () => abortCont.abort();\r\n\r\n    }, [user, setUser]);\r\n\r\n    return { auth };\r\n}\r\n\r\nexport default useAuth;","import { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport useAuth from \"./useAuth\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst Navbar = () => {\r\n\r\n    useAuth();\r\n    const { user, setUser } = useContext(UserContext);\r\n    const history = useHistory();\r\n\r\n    const logout = async () => {\r\n        try {\r\n            await fetch(\"http://localhost:8000/logout\", {\r\n                method: \"GET\",\r\n                credentials: 'include'\r\n            })\r\n            localStorage.removeItem(\"user\");\r\n            setUser(null);\r\n            history.push(\"/\");\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <h1>Launches</h1>\r\n            <div className=\"links\">\r\n                <Link to=\"/\" className=\"nav-link\">Home</Link>\r\n                {!user && <div className=\"authButtons\">\r\n                    <Link to=\"/signup\"><button className=\"btn\">Signup</button></Link>\r\n                    <Link to=\"/login\"><button className=\"btn\">Login</button></Link>\r\n                </div>}\r\n                {user && <div className=\"authButtons\">\r\n                    <button onClick={logout} className=\"btn logout-btn\">Logout</button>\r\n                </div>}\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import { Redirect, Route, useLocation } from \"react-router-dom\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nconst ProtectedRoute = ({ children, ...rest }) => {\r\n    const { auth } = useAuth();\r\n    const location = useLocation();\r\n\r\n    return (\r\n        <Route {...rest} render={() => {\r\n            if (auth === \"authenticated\") {\r\n                return children;\r\n            }\r\n            if (auth === \"unauthenticated\") {\r\n                return <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\r\n            }\r\n        }} />\r\n    );\r\n}\r\n\r\nexport default ProtectedRoute;","import { useContext, useState } from \"react\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst Signup = () => {\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [errors, setErrors] = useState({});\r\n    const history = useHistory();\r\n    const { setUser } = useContext(UserContext);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setErrors({});\r\n        const payload = { username, email, password };\r\n        try {\r\n            const res = await fetch(\"http://localhost:8000/signup\", {\r\n                method: \"POST\",\r\n                credentials: 'include',\r\n                body: JSON.stringify(payload),\r\n                headers: { \"Content-Type\": \"application/json\" }\r\n            });\r\n            const data = await res.json();\r\n            if (data.user) {\r\n                localStorage.setItem(\"user\", data.user);\r\n                setUser(data.user);\r\n                history.push(\"/\")\r\n            }\r\n            if (data.errors) {\r\n                setErrors(data.errors);\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h2>Signup</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>Username</label>\r\n                <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={username}\r\n                    onChange={(e) => setUsername(e.target.value)}\r\n                />\r\n                {errors.username && <div>{errors.username}</div>}\r\n                <label>Email</label>\r\n                <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                {errors.email && <div>{errors.email}</div>}\r\n                <label>Password</label>\r\n                <input\r\n                    type=\"password\"\r\n                    required\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                />\r\n                {errors.password && <div>{errors.password}</div>}\r\n                <button>Signup</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;","import { useMemo, useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './Home';\nimport LaunchDetails from './LaunchDetails';\nimport Login from './Login';\nimport Navbar from './Navbar';\nimport ProtectedRoute from './ProtectedRoute';\nimport Signup from './Signup';\nimport { UserContext } from './UserContext';\n\nfunction App() {\n  const [user, setUser] = useState(localStorage.getItem(\"user\"));\n\n  const providerValue = useMemo(() => ({ user, setUser }), [user, setUser]);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <UserContext.Provider value={providerValue}>\n          <Navbar />\n          <div className=\"content\">\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route path=\"/launch/:id\">\n                <LaunchDetails />\n              </Route>\n              <Route path=\"/signup\">\n                <Signup />\n              </Route>\n              <Route path=\"/login\">\n                <Login />\n              </Route>\n              <ProtectedRoute path=\"/random\">\n                <h2>Hello</h2>\n              </ProtectedRoute>\n            </Switch>\n          </div>\n        </UserContext.Provider>\n      </div>\n    </Router>\n  );\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}